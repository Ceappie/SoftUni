select u.Username, ug.Cash, ug.Level, ug.Id from Users u join UsersGames ug on u.Id = ug.UserId join Games g on ug.GameId = g.Id
where u.Username in ('baleremuda', 'loosenoise', 'inguinalself', 'buildingdeltoid', 'monoxidecos') and
g.Name = 'Bali'


begin tran
update UsersGames set Cash = Cash + 50000 where Id in (26, 115, 146, 177, 296)
update UsersGames set Cash = Cash - 16869 where Id = 26
update UsersGames set Cash = Cash - 34698 where Id = 115
update UsersGames set Cash = Cash - 7057 where Id = 146
update UsersGames set Cash = Cash - 17665 where Id = 177
update UsersGames set Cash = Cash - 34698 where Id = 296

insert into UserGameItems VALUES 
(251, 296),
(252, 296),
(253, 296),
(254, 296),
(255, 296),
(256, 296),
(257, 296),
(258, 296),
(259, 296),
(260, 296),
(261, 296),
(262, 296),
(263, 296),
(264, 296),
(265, 296),
(266, 296),
(267, 296),
(268, 296),
(269, 296),
(270, 296),
(271, 296),
(272, 296),
(273, 296),
(274, 296),
(275, 296),
(276, 296),
(277, 296),
(278, 296),
(279, 296),
(280, 296),
(281, 296),
(282, 296),
(283, 296),
(284, 296),
(285, 296),
(286, 296),
(287, 296),
(288, 296),
(289, 296),
(290, 296),
(291, 296),
(292, 296),
(293, 296),
(294, 296),
(295, 296),
(296, 296),
(297, 296),
(298, 296),
(299, 296),
(501, 296),
(502, 296),
(503, 296),
(504, 296),
(505, 296),
(506, 296),
(507, 296),
(508, 296),
(509, 296),
(510, 296),
(511, 296),
(512, 296),
(513, 296),
(514, 296),
(515, 296),
(516, 296),
(517, 296),
(518, 296),
(519, 296),
(520, 296),
(521, 296),
(522, 296),
(523, 296),
(524, 296),
(525, 296),
(526, 296),
(527, 296),
(528, 296),
(529, 296),
(530, 296),
(531, 296),
(532, 296),
(533, 296),
(534, 296),
(535, 296),
(536, 296),
(537, 296),
(538, 296),
(539, 296)

insert into UserGameItems Values
(253, 177),
(254, 177),
(255, 177),
(257, 177),
(258, 177),
(260, 177),
(263, 177),
(264, 177),
(267, 177),
(268, 177),
(269, 177),
(270, 177),
(271, 177),
(277, 177),
(280, 177),
(282, 177),
(283, 177),
(285, 177),
(286, 177),
(290, 177),
(293, 177),
(295, 177),
(297, 177),
(298, 177),
(501, 177),
(505, 177),
(509, 177),
(511, 177),
(513, 177),
(515, 177),
(517, 177),
(518, 177),
(520, 177),
(521, 177),
(522, 177),
(524, 177),
(528, 177),
(530, 177),
(531, 177),
(532, 177),
(534, 177),
(535, 177),
(537, 177),
(538, 177)

insert into UserGameItems Values
(254, 146),
(255, 146),
(267, 146),
(269, 146),
(280, 146),
(295, 146),
(297, 146),
(298, 146),
(509, 146),
(515, 146),
(518, 146),
(520, 146),
(522, 146),
(524, 146),
(528, 146),
(534, 146)

insert into UserGameItems Values
(251, 115),
(252, 115),
(253, 115),
(254, 115),
(255, 115),
(256, 115),
(257, 115),
(258, 115),
(259, 115),
(260, 115),
(261, 115),
(262, 115),
(263, 115),
(264, 115),
(265, 115),
(266, 115),
(267, 115),
(268, 115),
(269, 115),
(270, 115),
(271, 115),
(272, 115),
(273, 115),
(274, 115),
(275, 115),
(276, 115),
(277, 115),
(278, 115),
(279, 115),
(280, 115),
(281, 115),
(282, 115),
(283, 115),
(284, 115),
(285, 115),
(286, 115),
(287, 115),
(288, 115),
(289, 115),
(290, 115),
(291, 115),
(292, 115),
(293, 115),
(294, 115),
(295, 115),
(296, 115),
(297, 115),
(298, 115),
(299, 115),
(501, 115),
(502, 115),
(503, 115),
(504, 115),
(505, 115),
(506, 115),
(507, 115),
(508, 115),
(509, 115),
(510, 115),
(511, 115),
(512, 115),
(513, 115),
(514, 115),
(515, 115),
(516, 115),
(517, 115),
(518, 115),
(519, 115),
(520, 115),
(521, 115),
(522, 115),
(523, 115),
(524, 115),
(525, 115),
(526, 115),
(527, 115),
(528, 115),
(529, 115),
(530, 115),
(531, 115),
(532, 115),
(533, 115),
(534, 115),
(535, 115),
(536, 115),
(537, 115),
(538, 115),
(539, 115)

insert into UserGameItems Values
(253, 26),
(254, 26),
(255, 26),
(257, 26),
(258, 26),
(263, 26),
(267, 26),
(268, 26),
(269, 26),
(270, 26),
(271, 26),
(277, 26),
(280, 26),
(282, 26),
(283, 26),
(285, 26),
(286, 26),
(290, 26),
(293, 26),
(295, 26),
(297, 26),
(298, 26),
(501, 26),
(505, 26),
(509, 26),
(511, 26),
(513, 26),
(515, 26),
(517, 26),
(518, 26),
(520, 26),
(521, 26),
(522, 26),
(524, 26),
(528, 26),
(530, 26),
(532, 26),
(534, 26),
(535, 26),
(537, 26),
(538, 26)

--item/gameid
--38/26 83/115 17/146 42/177 86/296
select Id from Items where 
(Id between 251 and 299 or Id between 501 and 539) And MinLevel <= 38

--26 id = price 16869.00
--115 id = price 34698.00
--146 id = price 7057.00
--177 id = price 17665.00
--296 id = price 34698.00


rollback


select u.Username, g.Name, ug.Cash, i.Name as [Item Name]
from Users u join UsersGames ug on u.Id = ug.UserId join Games g on ug.GameId = g.Id join UserGameItems ugi on ugi.UserGameId = ug.Id join Items i on ugi.ItemId = i.Id 
where u.Username in ('baleremuda', 'loosenoise', 'inguinalself', 'buildingdeltoid', 'monoxidecos') and
g.Name = 'Bali'
order by u.Username, g.Name, ug.Cash, i.Name
